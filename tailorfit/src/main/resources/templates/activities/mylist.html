<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{/layout/fragments :: htmlHead('My Workout Lists')}">
</head>
<body>
	<th:block th:replace="~{/layout/fragments :: pageHeader}"></th:block>
	<main class="mt-2">
		<div class="mt-2">
			<div class="mt-2">
				<!-- ê²€ìƒ‰ê¸°ëŠ¥ -->
			</div>
			<div class="new-record-container">
				<a th:href="@{/activities/create}" class="new-record-btn">ìƒˆ ê¸°ë¡</a>
			</div>

			<div class="mt-2" th:each="page : ${page}" th:object="${page}">
				<div class="card">
					<a th:href="@{/activities/details(id=*{id})}">
						<div class="card-title" th:text="*{title}"></div>
					</a>
					<div class="card-subtitle" th:text="*{workoutType}"></div>

					<!-- ì§€ë„ -->
					<div class="map"
						th:attr="data-lat=*{startLat}, data-lng=*{startLng}"></div>

					<!-- ìš´ë™ ê¸°ë¡ ì •ë³´ -->
					<div class="card-details">
						<div class="card-detail-item">
							ğŸ“… <span th:text="*{workoutDate}"></span>
						</div>
						<div class="card-detail-item">
							â³ <span th:text="*{workoutDuration} + 'ë¶„'"></span>
						</div>
						<div class="card-detail-item">
							ğŸš´â€â™‚ï¸ <span th:text="*{avgSpeed} + ' km/h'"></span>
						</div>
						<div class="card-detail-item">
							ğŸ“ <span th:text="*{distance} + ' km'"></span>
						</div>
					</div>
				</div>
			</div>
		</div>
	</main>
	<th:block th:replace="~{/layout/fragments :: pageFooter}"></th:block>
	<th:block th:replace="~{/layout/fragments :: bootstrapJS}"></th:block>
	<script type="text/javascript"
		src="//dapi.kakao.com/v2/maps/sdk.js?appkey=a968ac66f9f47a5a20d82c0fa106e0f0"></script>
	<script>
		var mapContainers = document.querySelectorAll(".map"); //ì§€ë„ë¥¼ ë‹´ì„ ì˜ì—­ì˜ DOM ë ˆí¼ëŸ°ìŠ¤
		mapContainers.forEach(function(container) {
			var lat = container.getAttribute("data-lat"); // data-lat ê°’ ê°€ì ¸ì˜¤ê¸°
			var lng = container.getAttribute("data-lng"); // data-lng ê°’ ê°€ì ¸ì˜¤ê¸°

			var options = {
				center : new kakao.maps.LatLng(lat, lng), // ì§€ë„ ì¤‘ì‹¬ ì¢Œí‘œ ì„¤ì •
				level : 3
			// ì§€ë„ í™•ëŒ€/ì¶•ì†Œ ë ˆë²¨
			};
			console.log(lat, lng);

			var map = new kakao.maps.Map(container, options); //ì§€ë„ ìƒì„± ë° ê°ì²´ ë¦¬í„´
		});
	</script>
</body>
</html>